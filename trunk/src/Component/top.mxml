<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="78" styleName="topBottom">
    
    
    <mx:Script>
   
        <![CDATA[
        	import mx.managers.PopUpManager;
		    import mx.containers.TitleWindow;
		    import mx.core.IFlexDisplayObject;
		    import mx.controls.Alert;
		    
            public function showRegister():void {
			   var registerWin:IFlexDisplayObject=PopUpManager.createPopUp(this.owner,register,true);
			   //showhelp.move(stage.stageWidth,stage.stageHeight);
			   PopUpManager.centerPopUp(registerWin);
			}
			public function showLogin():void {
				var loginObject:login = new login;
				loginObject.callBack = callBack;
			  	PopUpManager.addPopUp(loginObject,this.owner,true);
			   
			   //showhelp.move(stage.stageWidth,stage.stageHeight);
			   PopUpManager.centerPopUp(loginObject);
			}
			
			public function callBack(s:String):void{
				loginBtn.label = "设置";
				registerBtn.label = "退出";
				welcome.text = "欢迎你，" + s + "！";
				registerBtn.addEventListener(MouseEvent.CLICK,exitUser);
			}
			
			public function reInitTop():void{
				loginBtn.label = "登录";
				registerBtn.label = "注册";
				welcome.text = "";
				loginBtn.addEventListener(MouseEvent.CLICK,showLogin);
				registerBtn.addEventListener(MouseEvent.CLICK,showRegister);	
			}
			
			public function exitUser():void{
				Alert.show("成功退出！期待您下次登录！");
				reInitTop();
			}
			
    	]]>
    </mx:Script>

	<mx:LinkButton id="loginBtn" y="10" label="登录" right="110" click="showLogin()"/>
	<mx:LinkButton id="registerBtn" y="10" label="注册" right="60"  click="showRegister()"/>
	<mx:LinkButton y="10" label="帮助" right="10" />
	<mx:TextInput right="165" bottom="8"  cornerRadius="10" borderStyle="solid" id="searchTarget"/>
	<mx:ComboBox right="65" fontSize="12" bottom="8" id="searchIndex"  >
		<mx:String>全部搜索</mx:String>
		<mx:String>搜歌名</mx:String>
		<mx:String>搜歌手</mx:String>
		<mx:String>搜专辑</mx:String>
	</mx:ComboBox>
	<mx:Button id="searchBtn" label="搜索" right="10" bottom="8" styleName="buttomDeep"/>
	
	<mx:Label id="welcome" right="165" y="12" text="" styleName="welcomeUsername"/>
	
	
</mx:Canvas>

